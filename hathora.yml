types:
  Color:
    - Red
    - Green
    - Blue
    - White
  User:
    id: UserId
    color: Color
  EngineStatus:
    - SETUP
    - PLAYING
    - FINISHED
  Country:
    - france
    - ireland
  Length:
    - short
    - long
  EngineConfig:
    country: Country
    length: Length
    players: int
  EngineFrame:
    next: int
    round: int
    startingPlayer: int
    settlementRound: string
    currentPlayerIndex: int
    activePlayerIndex: int
    neutralBuildingPhase: boolean
    bonusRoundPlacement: boolean
    mainActionUsed: boolean
    bonusActions: string[]
    canBuyLandscape: boolean
    unusableBuildings: string[]
    usableBuildings: string[]
    nextUse: string
  EngineTableau:
    color: Color
    clergy: string[]
    settlements: string[]
    landscape: string[][][]
    landscapeOffset: int
    wonders: int
    peat: int
    penny: int
    clay: int
    wood: int
    grain: int
    sheep: int
    stone: int
    flour: int
    grape: int
    nickel: int
    malt: int
    coal: int
    book: int
    ceramic: int
    whiskey: int
    straw: int
    meat: int
    ornament: int
    bread: int
    wine: int
    beer: int
    reliquary: int
  EngineRondel:
    pointingBefore: int
    wood: int?
    clay: int?
    coin: int?
    joker: int?
    grain: int?
    peat: int?
    sheep: int?
    grape: int?
    stone: int?
  EngineFlower:
    round: int?
    player: Color?
    settle: boolean
    bonus: boolean
  EngineControl:
    flow: EngineFlower[]
    partial: string?
    completion: string[]?
  EngineState:
    users: User[]
    me: User?
    moves: string[]
    status: EngineStatus
    config: EngineConfig?
    rondel: EngineRondel?
    wonders: int?
    players: EngineTableau[]?
    neutralPlayer: EngineTableau?
    buildings: string[]
    plotPurchasePrices: int[]
    districtPurchasePrices: int[]
    frame: EngineFrame?
    control: EngineControl?

methods:
  join:
    color: Color
  config:
    country: Country
    length: Length
  start: {}
  # Changes the game state with a complete command.
  move:
    command: string
  # Changes the control portion of the state
  control:
    partial: string
  undo: {}
  redo: {}

auth:
  google:
    clientId: 843500347511-jd10djb45kpf7r9gl6hial3mbds03o2f.apps.googleusercontent.com

userState: EngineState
error: string
